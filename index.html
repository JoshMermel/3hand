<!doctype html>
<html>

<body onload="update()">
<h1>3hand Translate</h1>

<div>
Vanilla Siteswap: <input type="text" id="siteswap" value="5" onchange="update()"><br>
Hand Sequence: <input type="text" id="hand_seq" value="lmrm" onchange="update()"><br>
</div>

<div>
  <input type="radio" id="two-pad" name="mode" value="two-pad"
         onclick="update()" checked>
  <label for="two-pad">two-pad</label>
</div>

<div>
  <input type="radio" id="light-two-pad" name="mode" value="light-two-pad"
         onclick="update()">
  <label for="light-two-pad">light-two-pad</label>
</div>

<div>
  <input type="radio" id="zero-pad" name="mode" value="zero-pad"
         onclick="update()">
  <label for="zero-pad">zero-pad</label>
</div>

<a id=animation> Animate with Jugglinglab </a>
<div id="siteswap_out"></div>


</body>
<script src="3hand.js"></script>
<script>
function update() {
  let input = document.getElementById("siteswap").value;
  let hand_seq = document.getElementById("hand_seq").value;
  let mode = document.querySelector('input[name="mode"]:checked').value;

  let siteswap = parseInput(input);
  if (!validateSiteswap(siteswap)) {
    document.getElementById("siteswap_out").innerHTML = "Input is not a valid siteswap";
  } else if (hand_seq.match(/[^lmr]+/g)) {
    document.getElementById("siteswap_out").innerHTML = "Hand seq must contain only the characters 'l', 'm', and 'r'.";
  } else {
    let output = translate(siteswap, hand_seq, mode);
    document.getElementById("siteswap_out").innerHTML = output;
    document.getElementById("animation").href = linkify(output, true);
  }
}
</script>
</html>
